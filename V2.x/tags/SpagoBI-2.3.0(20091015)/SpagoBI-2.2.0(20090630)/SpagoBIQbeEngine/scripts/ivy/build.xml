<project xmlns:ivy="antlib:org.apache.ivy.ant" name="ivy" default="resolve">
    
	<property file="build.properties"/>	
    
	<property name="from.resolver" value="public"/>
	<property name="to.resolver" value="local"/>
	
	
    
    <!-- ====================================================================================== -->
    <!-- target: load-ivy         															
         this target is not necessary if you put ivy.jar in your ant lib directory
         if you already have ivy in your ant lib, you can simply remove this
         target and the dependency the 'go' target has on it                                    -->
    <!-- ====================================================================================== -->
    <target name="load-ivy"  description="load ivy">
    	<path id="ivy.lib.path">
    	    <fileset dir="." includes="*.jar"/>
    	</path>
    	<taskdef resource="org/apache/ivy/ant/antlib.xml"
    	          uri="antlib:org.apache.ivy.ant" classpathref="ivy.lib.path"/>
    </target>   
    
    <!-- ====================================================================================== -->
    <!-- target: init-ivy        																-->
    <!-- ====================================================================================== -->
    <target name="init-ivy" depends="load-ivy">
       	<ivy:settings id="basic.settings"    file="${ivy.settings.file}"/>
    </target> 
    
   
    <!-- ====================================================================================== -->
    <!-- target: create-local-repository        												-->
    <!-- ====================================================================================== -->
    <target name="create-locla-repository " depends="init-ivy" 
    	description="install module from maven 2 repository with dependencies">
    	<ivy:install settingsRef="basic.settings" 
    		organisation="org.hibernate" module="hibernate" revision="3.2.6.ga" 
    		from="${from.resolver}" to="${to.resolver}" transitive="true" />
    </target>
    
    <!-- ====================================================================================== -->
    <!--      target: resolve              												    	-->
    <!-- ====================================================================================== -->
    <target name="resolve" depends="init-ivy" description="retrieve dependencies with ivy">
        <ivy:retrieve settingsRef="basic.settings"  
         pattern="./pippo/[artifact]-[revision].[ext]"/>
    </target>
	
	<!-- ================================= 
	          target: report              
	         ================================= -->
	    <target name="report" depends="resolve" description="generates a report of dependencies">
	        <ivy:report todir="${ivy.base.dir}/report"/>
	    </target>
	
	<!-- ================================= 
	          target: clean-cache              
	         ================================= -->
		<target name="clean-cache" description="clean the ivy cache">
			<ivy:cleancache />
		</target>
</project>
