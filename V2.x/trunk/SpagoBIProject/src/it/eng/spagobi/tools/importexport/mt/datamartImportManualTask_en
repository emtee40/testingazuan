
TODO

- unzip the archive which contains this Readme  file  				(see  NOTE 1) 
- connect to the SpagoBIQbeEngine application using http://yourserver:yourport/SpagoBIQbeEngine as url   		(see NOTE 2) 
- clck on the presentation image
- into the login form insert the access credentials for the  SpagoBIQbeEngine application  	 (see NOTE 3)
- for each file with extension 'jar' contained into the archive do the following steps: 
		- into the 'Name Datamart' field insert the name of the file without extesnion. Example: if the file name is  foodmart.jar then insert only foodmart
		- into the 'Jar File' field, using the 'File' button, load the file with 'jar' extension
		- press the 'Upload' buttion
		- The file should appear in the list above the login form 	
		- click on the execution button corresponding to the new datamart (the hand len)
		- in the next page select the connection towards the source database and the type of the database.  	(see NOTE 4)
		  Remember the name of the connection chosed because it has to be used subsequently
		- check if the datamart works
		- access, using SpagoBI, to the detail page of the  Datamart document associated to the jar file loaded.
		- download the template of the document					(see NOTE 5)
		- change the template as explained below:
				- assign to the DATASOURCE name attribute the logical name of the connection used for the test of the datamart 
				- assign to the DATASOURCE dialect attribute the name of the hibernate class associated to the source database. 		(see the class  list below)
				- Example: if the file name is foodmart.jar, the logical name of the connection is dbFood and the source database is an  oracle 9 the template must contain:
					<QBE>
							<DATASOURCE name="dbFood" dialect="org.hibernate.dialect.Oracle9Dialect" />
			    			<DATAMART name="foodmart"/>
			    	</QBE>



LIST OF THE HIBERNATE CLASSES RELATIVE TO THE MAIN DATABASES 

oracle						org.hibernate.dialect.OracleDialect
oracle9						org.hibernate.dialect.Oracle9Dialect
mysql						org.hibernate.dialect.MySQLDialect
postgres					org.hibernate.dialect.PostgreSQLDialect
SQL server				org.hibernate.dialect.SQLServerDialect
DB2							org.hibernate.dialect.DB2Dialect
hsqldb						org.hibernate.dialect.HSQLDialect

For further information and a more complete list take a look to the url http://www.hibernate.org/hib_docs/v3/api/org/hibernate/dialect/package-tree.html
 



NOTES

	Note 1
	
	From the 1.9.2 SpagoBI version the engine for the document of 'Datamart' kind is an external engine.
    The external engine is an application call 'SpagoBIQbeEngine', separated from SpagoBI, which must be installed on a server.
    The new engine, respect to the old one, needs a different document configuration. 
    The main differences are:
			- The files which contain the object representation of the analytical model (file with jar extension), which in the previous version were the template of the datamart document,
 			  in the new release they must be deployed into the external engine and identified univocally by a logical name.
			- The files with 'jar' extension (which contain the object representation of the analytical model) don't have to contain the file hibernate.cfg.xml			
			- The database connection used by the analytical models to gather data must be configured into the external engine and identified univocally by a logical name.
			- The template of the 'Datamart' document is an xml file which contains the information necessary for the execution.
	
	The import procedure is not able to perform all the configurations automatically but prepare the platform to end the importing manually: 
			- search all the Datamart document exported 
			- extract the templates of the datamart documents  (file with jar extension which contain the object representation of the analytical model )
			- import all the documents and substitute the old templates of the Datamart document, with the new ones 
			- make a zip file which contains all the jar files and this instruction file
	
	
	Note 2
	
	The engine for the Datamart document is a web application which muist be installed on an application server
    The SpagoBI installation manual explains how to perform the installation (in case no one else has already done it ) 
    The url useful to connect to the datamart external engine depends on the name and port of the server where SpagoBI is installed  
	The connection url will be  http://yourserver:yourport/SpagoBIQbeEngine  (obviously replacing the name and teh port of the server)
	
	Note 3
	
	The datamart engine allow to deploy new datamart models (jar files) using the web interface
	The deployment is allowed only to authenticated users
	Into the authentication form the user must insert his access credential  to the datamart engine 
	(if the credential are unknow contacts who installed the SpagoBI platform or read the 'How to' documentation file to discover how to obtain them)
	
	Note 4 
	
	The datamart loaded is a representation of the analytical model. The model doesn't contain data and for this reason it has to be linked with a data source.
    The datamart engine allow to define database  connections and assign to them a logical unambiguous name. 
    The 'How to' documentation file explain how to define new database connection for the Datamart engine  
    Before exec a datamart is necessary to choose the data source (by choosing its logical name)
    Moreover, considered that the analytical models are based on Hiberante technology,
     it's necessary to specify the kind of source database so as to setting correctly the Hibernate environment	
	
	Note 5
	
	The new template of the datamart document is an xml file containing the name of the analytical model, the name of the database connection to use and 
	the name of an Hiberante class which identify the kind of database server (oracle, mysql, db2, ....) 



